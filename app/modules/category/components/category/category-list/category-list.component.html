<div
  class="gt-float-100 search-left dark-shadow bg-change"
  *ngIf="categoryService.categoryDetails$ | async as categoryDetails"
>
  <div class="gt-float-100 gt-center-between gt-mb-20 filter-clear">
    <h2 class="gt-fs-16 gt-text-medium gt-lightblack">Filters</h2>
    <h3
      class="gt-fs-14 gt-text-medium gt-cursor-pointer gt-sky"
      (click)="resetAllFilter()"
    >
      clear all
    </h3>
  </div>
  <div class="gt-float-100">
    <div class="gt-form-primary">
      <label
        for="inputState"
        class="
          gt-form-label
          offer-input-label
          gt-mb-5 gt-lightblack
          dcolor-primary
        "
        >Category</label
      >
      <select
        id="gt-select"
        class="gt-form-select offer-form-control"
        (change)="itemSelectionLeafNode($event)"
        *ngIf="categoryDetails?.categories?.length"
      >
        <option value="">Select category</option>
        <option
          *ngFor="let category of categoryDetails.categories"
          [value]="category.categoryId"
          [selected]="selectedCategories(category.categoryId)"
        >
          {{ category.label }}
        </option>
      </select>
    </div>
  </div>
  
  <ng-container
    *ngIf="
      categoryDetails?.primaryFacets && categoryDetails?.primaryFacets?.length
    "
  >
    <div
      class="gt-float-100 gt-mt-15 check-type"
      *ngFor="let primaryFacet of categoryDetails.primaryFacets"
    >
      <ng-container *ngIf="checkFacet(primaryFacet.key)">
        <div class="gt-floa-100 gt-mb-4 check-pos">
          <h1 class="gt-fs-15 gt-lightblack gt-text-medium dcolor-primary">
            {{ primaryFacet.key }}
          </h1>
        </div>
        <div class="gt-float-100">
          <div
            class="gt-float-100 my-loction filter-check-size"
            *ngFor="let secondaryFacet of primaryFacet.secondaryFacets"
          >
            <mat-checkbox
              class="gt-float-100 filter-check"
              (click)="$event.stopPropagation()"
              (change)="
                $event
                  ? toggleItem(primaryFacet.key, secondaryFacet, $event)
                  : null
              "
              [checked]="exists(primaryFacet.key, secondaryFacet)"
            >
              <h2 class="check-text">{{ secondaryFacet.key | titlecase }}</h2>
            </mat-checkbox>
          </div>
        </div>
      </ng-container>
    </div>
  </ng-container>
</div>
